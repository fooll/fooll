<!DOCTYPE html><html lang="en"><head><title>FoollJS:Tutorial</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content=""><meta name="author" content=""><link rel="shortcut icon" href="/fooll/images/icon.png"><link href="https://fonts.googleapis.com/css?family=Josefin+Sans:700|Ubuntu+Mono" rel="stylesheet"><link rel="stylesheet" href="./css/prism.css"><!-- PURE CSS--><link rel="stylesheet" href="./bower_components/pure/pure-min.css"><link rel="stylesheet" href="./bower_components/pure/grids-responsive-min.css"><!-- Plugins CSS--><link rel="stylesheet" href="./bower_components/font-awesome/css/font-awesome.css"><!-- Theme CSS--><link id="theme-style" rel="stylesheet" href="./css/style.css"></head><body><div class="lateral-page"><div class="header"><a class="header-logo" href="/fooll/"><img class="header-logo-img" src="images/logo-white.png"><div class="header-logo-title">FoollJS</div></a><div class="flex"></div><div id="nav"><div class="menu-hor menu"><a class="menu-item" href="/fooll/tutorial1.html"><i class="fa fa-road"> </i> Tutorial</a><a class="menu-item" href="/fooll/docs.html"><i class="fa fa-book"> </i> Docs</a><a class="menu-item" href="https://github.com/fooll/fooll"> <i class="fa fa-github"> </i> Github</a><a class="menu-item" href="https://github.com/fooll/fooll/issues"><i class="fa fa-exclamation-circle"></i> Support</a></div></div></div><div class="doc-wrapper"><div class="doc-header"><div class="doc-title"><i class="icon fa fa-road"></i> Tutorial</div><div class="meta"><i class="fa fa-clock-o"></i> Last updated: 30 - 8 - 2017 </div></div><div class="scrollable absolute-menu" id="menu-wrapper"><ul class="menu" id="content-menu"><li><a data-scroll href="#installation-section">Installation</a></li><li><a data-scroll href="#generate-section">Generate Application</a></li><li><a data-scroll href="#generate-module">Application Module</a></li><li><a data-scroll href="#routing">Routing</a></li><li><a data-scroll href="#inheritance">Inheritance</a></li><li><a data-scroll href="#middlewares">Express Middlewares</a></li><li><a data-scroll href="#more">Learn More</a></li></ul></div><div class="doc-content"><section class="doc-section" id="download-section"><h2 class="section-title">Introduction</h2><div class="section-block">In this tutorial, we'll get you through a quick tour in which we'll demonstrate the 
main features of Fooll framework and to help you understand its main concepts.</div></section><section class="doc-section" id="installation-section"><h2 class="section-title">Installation</h2><div class="section-block"> We'll be using fooll-cli to generate the app and its modules through the command line.<p>Open CLI and run:</p><pre><code class="code-cli">npm install -g fooll-cli</code></pre></div></section><section class="doc-section" id="generate-section"><h2 class="section-title">Generate Application</h2><div class="section-block"> Now open the CLI in the directory in which you want to store the app.<p>And run:</p><pre><code class="code-cli">fooll -a myApp</code></pre><p>A new folder containing your app is now created.</p><p>Run:</p><pre><code class="code-cli">cd myApp</code></pre><p>Then:</p><pre><code class="code-cli">npm install</code></pre></div><div class="section-block">Here's how the app directory looks like:<pre><code class="language-markup"> myApp
  |_ public
  |_ app.js
  |_ package.json</code></pre></div></section><section class="doc-section" id="generate-module"><h2 class="section-title">Application Module</h2><div class="section-block"> The app has not yet any module, so we'll generate one called <span class="ht">home</span> that will handle our application home page.<p>Run:</p><pre><code class="code-cli">fooll -M home</code></pre><p>A module called <span class="ht">home</span> has been generated in <span class="ht">app_modules</span>, the directory now looks like this:</p><pre><code class="language-markup"> myApp
  |_ app_modules
    |_ home
      |_ client
      |_ views
      |_ index.js
  |_ public
  |_ app.js
  |_ package.json</code></pre></div><div class="section-block"> Open <span class="ht">app_modules/home/index.js</span> and add <code>res.end('This is home Page');</code> to <span class="ht">GET_root</span> method.<p>So the file will look like:</p><pre><code class="language-javascript"> const Foola = require('foola');
class Home extends Foola {

  GET_root(req, res) {
    res.end('This is home Page');
  }

}

module.exports = Home;</code></pre><p>Run the app with:</p><pre><code class="code-cli">node app.js</code></pre><p>Now, if you visite <span class="ht">localhost:3000/home/</span>, you'll get something like this:</p><p><img src="./images/screens/home1.png"></p>Create the file <span class="ht">app_modules/home/views/index.pug</span> with this content:<pre><code class="language-jade">html
  head
    title My App Fooll
  body
    #header myApp
    #content This is super clean</code></pre><p>And replace the code in <span class="ht">app_modules/home/index.js</span> by this:</p><pre><code class="language-javascript"> const Foola = require('foola');
class Home extends Foola {

  GET_root(req, res) {
    res.render(this.views.index);
  }

}

module.exports = Home;</code></pre><p>Now, if you visite <span class="ht">localhost:3000/home/</span>, you'll get something like this:</p><p><img src="./images/screens/home2.png"></p><p>Let's make some style to this page.</p><p>Create a file <span class="ht">style.css</span> in <span class="ht">/public/</span> with this content:</p><pre><code class="language-css"> #header {
  background-color: #4588ce;
  color: #FFF;
  padding: 20px;
  font-size: 30px;
}

#content {
  padding: 20px;
  color: #282828;
}</code></pre><p>And add this line of code to <span class="ht">head</span> tag in <span class="ht">app_modules/home/views/index.pug</span>:</p><pre><code class="language-jade"> link(rel="stylesheet", href="/file/style.css")</code></pre><p>Now, if you visite <span class="ht">localhost:3000/home/</span>, you'll get something like this:</p><p><img src="./images/screens/home3.png"></p><p>Now, We want to call some javascript that's specific to our <span class="ht">home</span> module.</p><p>So we create a file <span class="ht">app_modules/home/client/main.js</span> with this content:</p><pre><code class="language-javascript">document.getElementById('content').innerHTML += 'This text is added by Javascript';</code></pre><p>And add this line of code to the end of <span class="ht">body</span> tag in <span class="ht">app_modules/home/views/index.pug</span>:</p><pre><code class="language-jade"> script(src="/home/file/main.js")</code></pre><p>Now, if you visite <span class="ht">localhost:3000/home/</span>, you'll get something like this:</p><p><img src="./images/screens/home4.png"></p></div><div class="section-block">You probably noticed that a home page in a website should be accessible from the domain's root instead of having its own route.<P>In our case we should access <span class="ht">home</span> from <span class="ht">localhost:3000</span> instead of <span class="ht">localhost:3000/home/</span>.</P><p>Fooll makes it easy to achieve that. Just set <span class="ht">aliases</span> options to server in <span class="ht">/app.js</span>:</p><pre> <code class="language-javascript">const Fooll = require('fooll');

var server = new Fooll({
 aliases: {
    '': 'home'
  }
});

server.listen();</code></pre><p>Now, from <span class="ht">localhost:3000</span>, you can access what we used to get from <span class="ht">localhost:3000/home/</span>. Try it!</p></div></section><section class="doc-section" id="routing"><h2 class="section-title">Routing</h2><div class="section-block">We'll now, learn how to route with <span class="ht">FoollJS</span>.<p>But before we start, let's make a new module called <span class="ht">login</span>. by running:</p><pre><code class="code-cli">fooll -M login</code></pre><p>Now create a file <span class="ht">app_modules/login/views/index.pug</span> with this content:</p><pre><code class="language-jade">html
  head
    title My App Fooll: Login
  body
    #header myApp
    #content
      form(method="post",action="/login/signin")
        input(name="username")
        input(name="password",type="password")
        button Submit</code></pre><p>And render the view when the module's root is resquested. So make the file <span class="ht">app_modules/login/index.js</span> look like this: </p><pre><code class="language-javascript">const Foola = require('foola');
class Login extends Foola {

  GET_root(req, res) {
    res.render(this.views.index);
  }

}

module.exports = Login;</code></pre><p>Now, if you visit <span class="ht">localhost:3000/login/</span> you'll find the form that sends a <span class="ht">POST</span> request to <span class="ht">/login/signin</span>.</p><p><span class="ht">/login/signin</span> means that the request will call the function <span class="ht">signin</span> in the named <span class="ht">login</span> module.</p><p>But wait! it's a a <span class="ht">POST</span> request, so it will look for <span class="ht">POST_signin</span> in <span class="ht">login</span> module.</p><p>So let's write this function. Add this code to <span class="ht">Login</span> class:</p><pre><code class="language-javascript">  POST_signin(req, res) {
    console.log(req.body);
    res.end('the form data has been received');
  }</code></pre><p>You should know how to try it! So don't hesitate to do.</p><p><div class="callout-block callout-info"><div class="icon-holder"><i class="fa fa-info-circle"></i></div><div class="content"><div class="callout-title">Other methods (PUT,DELETE...)</div><p>Of course you can use the other methods. For instance, if you have a <span class="ht">PUT</span> request, it will call <span class="ht">PUT_actionName</span>.</p></div></div></p></div></section><section class="doc-section" id="inheritance"><h2 class="section-title">Inheritance</h2><div class="section-block"><p>Now, we'll discover another great feature in <span class="ht">FoollJS</span>. We'll make a module that extends from another one.</p><p>Imagine we want to make a module that adds a register function to <span class="ht">login</span> module, but without changing it.</p><p>We'll make a new module called <span class="ht">authentication</span> that extends from <span class="ht">login</span>. Run:</p><pre><code class="code-cli">fooll -M authentication</code></pre><p>And write this code in its <span class="ht">index.js</span>:</p><pre><code class="language-javascript">const Login = require('./../login');
class Authentication extends Login {

  GET_register(req, res) {
    res.render(this.views.register);
  }

  POST_register(req, res) {
    console.log(req.body);
    res.end('the register form data has been received');
  }

}

module.exports = Authentication;</code></pre><p><div class="callout-block callout-warning"><div class="icon-holder"><i class="fa fa-exclamation-triangle"></i></div><div class="content"><div class="callout-title">Views Are not inherited</div><p>You should know that views are not inherited. So you have to create <span class="ht">/authentication/views/index.pug</span> which sends the login form to <span class="ht">/authentication/signin</span>.</p><p>And create <span class="ht">/authentication/views/register.pug</span> that contains the register form with <span class="ht">POST</span> as method and <span class="ht">/authentication/register</span> as action.</p></div></div></p></div></section><section class="doc-section" id="middlewares"><h2 class="section-title">Express middlewares</h2><div class="section-block"><p><span class="ht">FoollJS</span> supports ExpressJS middlewares. But <span class="ht">FoollJS</span> has its proper way to implement them.</p><p>While in <span class="ht">ExpressJS</span> you write <code>app.use(middleware)</code>, in <span class="ht">FoollJS</span> you write <code>server.addHook(middleware)</code>.</p><p>We'll take the example of <span class="ht">express-session</span> middleware:</p><p>In Express you would do this:</p><pre><code class="language-javascript">const session = require('express-session');
app.use(session({
  secret: 'keyboard cat',
  resave: false,
  saveUninitialized: true,
  cookie: { secure: true }
}))</code></pre><p>In Fooll you write:</p><pre><code class="language-javascript">const session = require('express-session');
server.addHook(session({
  secret: 'keyboard cat',
  resave: false,
  saveUninitialized: true,
  cookie: { secure: true }
}))</code></pre><p>So <span class="ht">app.js</span> will look this:</p><pre> <code class="language-javascript">const Fooll = require('fooll');
const session = require('express-session');

var server = new Fooll({
 aliases: {
    '': 'home'
  }
});

server.addHook(session({
  secret: 'keyboard cat',
  resave: false,
  saveUninitialized: true,
  cookie: { secure: true }
}))

server.listen();</code></pre></div></section><section class="doc-section" id="more"><h2 class="section-title">Learn More</h2><div class="section-block"><p>Now that you have learned the basics of <span class="ht">FoollJS</span>, we recommend you to check the documentations <a href="/fooll/docs.html">here</a>, which contains all that you need to know about <span class="ht">FoollJS</span>.</p></div></section></div></div></div><script src="./bower_components/smooth-scroll/dist/js/smooth-scroll.js"></script><script src="./bower_components/scrollbot/js/scrollbot.min.js"></script><script src="./js/prism.js"></script><script src="./js/main.js"></script></body></html>